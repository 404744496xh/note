[TOC]

# 端口号

> ·端口号标识正在计算机上运行的进程（程序）：
> ·不同的进程有不同的端口号；
> ·被规定为一个 16 位的整数 0~65535(2^16-1)。
> ·端口分类：
> ·公认端口：0~1023(2^10-1)。被预先定义的服务通信占用（如：HTTP 占用端口 80，FTP 占用端口 21，Telnet占用端口 23）。
> ·注册端口：1024~49151(16位101.......1)分配给用户进程或应用程序。（如：Tomcat 占用端口 8080，MySQL 占用端口 3306，Oracle 占用端口 1521 等）。
> ·动态 / 私有端口：49152~65535。
> ·端口号与 IP 地址的组合得出一个网络套接字：
> ·Socket。

## DOS命令查看端口

查看所有端口：netstat -ano
查看指定端口：netstat -ano|findstr "端口号"
查看指定端口的进程：tasklist|findstr "端口号"

# InetAddress类

互联网协议 (IP) 地址。
**InetAddress类无构造方法**
**常用方法摘要**

> *   byte\[] getAddress()
>     返回此 InetAddress 对象的原始 IP 地址。
>
> *   static InetAddress getByName(String host)
>     在给定主机名的情况下确定主机的 IP 地址。
>
> *   String getHostAddress()
>     返回 IP 地址字符串（以文本表现形式）。
>
> *   String getHostName()
>     获取此 IP 地址的主机名。
>
> *   static InetAddress getLocalHost()
>     返回本地主机。
>     127.0.0.1：本机地址，主要用于测试。别名：Localhost

# InetSocketAddress类

> 1.构造方法摘要
> InetSocketAddress(InetAddress addr, int port)根据 IP 地址和端口号创建套接字地址。
> InetSocketAddress(int port)创建套接字地址，其中 IP地址为通配符地址，端口号为指定值。
> InetSocketAddress(String hostname, int port)根据主机名和端口号创建套接字地址。

2.常用方法摘要

> InetAddress getAddress()获取 InetAddress。
> String getHostName()获取 hostname。
> int getPort()获取端口号。

# TCP网络编程

1.概述
TCP通信能实现两台计算机之间的数据交互，通信的两端，要严格区分为客户端（Client）与服务端（Server）。

（1）两端通信时步骤：
服务端程序，需要事先启动，等待客户端的连接。
客户端主动连接服务器端，连接成功才能通信。服务端不可以主动连接客户端。
（2）在Java中，提供了两个类用于实现TCP通信程序：
客户端：**java.net.Socket** 类表示。创建Socket对象，向服务端发出连接请求，服务端响应请求，两者建立连接开始通信。
服务端：**java.net.ServerSocket** 类表示。创建ServerSocket对象，相当于开启一个服务，并等待客户端的连接。

## Socket类

该类实现客户端套接字，套接字指的是两台设备之间通讯的端点。
**构造方法摘要**

public Socket(String host, int port) :创建套接字对象并将其连接到指定主机上的指定端口号。如果指定的host是null ，则相当于指定地址为回送地址。回送地址(127.x.x.x) 是本机回送地址（Loopback Address），主要用于网络软件测试以及本地机进程间通信，无论什么程序，一旦使用回送地址发送数据，立即返回，不进行任何网络传输。

**常用方法摘要**

> 1.  public InputStream getInputStream() ： 返回此套接字的输入流。
>
> *   如果此Scoket具有相关联的通道，则生成的InputStream 的所有操作也关联该通道。
>
> *   关闭生成的InputStream也将关闭相关的Socket。
>
> 1.  public OutputStream getOutputStream() ： 返回此套接字的输出流。
>
> *   如果此Socket具有相关联的通道，则生成的OutputStream 的所有操作也关联该通道。
>
> *   关闭生成的OutputStream也将关闭相关的Socket。
>
> 1.  public void close() ：关闭此套接字。
>
> *   一旦一个socket被关闭，它不可再使用。
>
> *   关闭此socket也将关闭相关的InputStream和OutputStream 。
>
> 1.  public void shutdownOutput() ： 禁用此套接字的输出流。

*   任何先前写出的数据将被发送，随后终止输出流。

## ServerSocket类

这个类实现了服务器套接字，该对象等待通过网络的请求。

**构造方法摘要**

> public ServerSocket(int port) ：使用该构造方法在创建ServerSocket对象时，就可以将其绑定到一个指定的端口号上，参数port就是端口号。

**常用方法摘要**

> public Socket accept() ：侦听并接受连接，返回一个新的Socket对象，用于和客户端实现通信。该方法会一直阻塞直到建立连接。

# UDP网络编程

从技术意义上来讲，只有TCP才会分Server和Client。对于UDP来说，严格意义上，并没有所谓的Server和Client。
java.net包给我们提供了两个类DatagramSocket（此类表示用于发送和接收数据报的套接字）和DatagramPacket（该类表示数据报的数据包。 ）

DatagramSocket

**构造方法摘要**

> protected DatagramSocket()构造数据报套接字并将其绑定到本地主机上的任何可用端口。
> protected DatagramSocket(int port)构造数据报套接字并将其绑定到本地主机上的指定端口。
> protected DatagramSocket(int port, InetAddress laddr)创建一个数据报套接字，绑定到指定的本地地址。

**常用方法摘要**

> receive(DatagramPacket p)：从该DatagramSocket中接收数据报。
>
> send(DatagramPacket p)：以该DatagramSocket对象向外发送数据报。

DatagramPacket
**构造方法摘要**

> DatagramPacket(byte\[] buf, int offset, int length)构造一个 DatagramPacket用于接收指定长度的数据报包到缓冲区中。
> DatagramPacket(byte\[] buf, int offset, int length, InetAddress address, int port)构造用于发送指定长度的数据报包到指定主机

**常用方法摘要**

> byte\[] getData() 返回数据报包中的数据。
> InetAddress getAddress() 返回该数据报发送或接收数据报的计算机的IP地址。
> int getLength() 返回要发送的数据的长度或接收到的数据的长度。

# URL类

1.构造方法摘要

> URL(String spec)根据 String 表示形式创建 URL 对象。
> URL(String protocol, String host, int port, String file) 根据指定协议名、主机名、端口号和文件名创建 URL 对象。
> URL(String protocol, String host, String file) 根据指定的协议名、主机名和文件名创建 URL。

2.常用方法摘要

> String getProtocol()获取此 URL的协议名称。
> String getHost() 获取此 URL 的主机名。
> int getPort() 获取此 URL 的端口号。
> String getPath() 获取此 URL 的文件路径。
> String getFile()获取此 URL 的文件名。
> String getQuery()获取此 URL的查询部分。
> URLConnection openConnection() 返回一个URLConnection实例，表示与URL引用的远程对象的URL 。

URLConnection类中又有一个方法：
InputStream getInputStream() 返回从此打开的连接读取的输入流。
